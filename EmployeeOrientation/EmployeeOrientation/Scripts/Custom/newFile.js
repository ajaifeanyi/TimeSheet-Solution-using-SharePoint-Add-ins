newFunction();

function newFunction() {
    Default = function() { var c = function(f, e) { var h; var i = moment().subtract(7, "days").format(commonDateFormat2); var d = rowLimiterFilter + " RequesterId eq " + CurrentUser.Id + " and ((Status eq 'Draft' or Status eq 'PendingApproval') or  (Created ge datetime'" + i + "T00%3a00%3a00')   )"; var g = appweburl + "/_vti_bin/ListData.svc/Requests/?$filter=" + d + "&$inlinecount=allpages&$select=Id,Status,Created,FirstDayOfPeriod,Period,Year,TotalHours&$orderby=" + e.jtSorting.replace(" DESC", " desc").replace(" ASC", " asc") + "&$skip=" + e.jtStartIndex + "&$top=" + e.jtPageSize; return $.Deferred(function(j) { $.ajax({ url: g, type: "GET", headers: { accept: "application/json;odata=verbose" }, dataType: "json", data: f, cache: false, success: function(k) { h = { Result: "OK", Records: k.d.results, TotalRecordCount: k.d.__count }; j.resolve(h); }, error: function() { j.reject(); } }); }); }, b = function(e, f) { var d; $.ajax({ url: appweburl + "/_vti_bin/ListData.svc/Requests/?$select=Id,Status&$filter=" + rowLimiterFilter + " CreatedById eq " + CurrentUser.Id + " and WeekNumber eq '" + e + "'  and Year eq '" + f + "'", type: "GET", async: false, cache: false, headers: { accept: "application/json;odata=verbose" }, dataType: "json", success: function(g) { d = g.d.results[0]; }, error: function(i, g, h) { alert(h); } }); return d; }, a = function(d, f) { var e; $.ajax({ url: appweburl + "/_vti_bin/ListData.svc/Requests/?$select=Id,Status&$filter=" + rowLimiterFilter + "CreatedById eq " + CurrentUser.Id + " and Period eq '" + d + "'  and Year eq '" + f + "'", type: "GET", async: false, cache: false, headers: { accept: "application/json;odata=verbose" }, dataType: "json", success: function(g) { e = g.d.results[0]; }, error: function(i, g, h) { alert(h); } }); return e; }; return { getListData: c, getCurrentWeekForCurrentUser: b, getCurrentMonthForCurrentUser: a }; } ();
}
